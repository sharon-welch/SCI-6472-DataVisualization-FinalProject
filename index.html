<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>CS171 - Final Project</title>

        <!-- CSS LIBRARIES -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">

        <!-- BOOTSTRAP -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"  integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">

<!--        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.4.0/nouislider.css" integrity="sha512-DGB74Gyw93qON+V0QxSRs1er6sqoPyFoy23HBL5LN7MRJBcjeCU22zega+vOEGE0XQLoVrv4ExcaesSTwZQA2w==" crossorigin="anonymous" referrerpolicy="no-referrer"/>-->

        <!-- OUR CSS -->
        <link rel="stylesheet" href="css/style.css">

        <!-- FULLPAGE CSS -->
<!--        <link rel="stylesheet" href="css/fullpage.css">-->
<!--        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.15/fullpage.css">-->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.15/fullpage.min.css">


    </head>

    <body>
        <div id="fullpage">

            <!-- INTRO-->
            <div class="section s1">

                <!-- Text: Introduction-->
                <div class="row d-flex justify-content-center" id="intro">
                    <h1>Are your customers comfortable on their bikes?</h1>
                </div>

                <!-- Title -->
                <div class = "row d-flex justify-content-center">
                    <h2>An argument for a new saddle design for women</h2>
                </div>

                <!-- saddle outlines -->
                <div class="row">
                    <div class="col"></div>
                    <div class="col"></div>
                    <div class="col align-self-right"> <div class="text-center"><img class= "center" id="standardsaddleimg" src="/img/saddle_standard.png" height="175"> </div></div>
                    <div class="col align-self-center"> <div class="text-center"><img class= "align-self-center" id="partialsaddleimg" src="/img/saddle_partial.png" height="175"> </div></div>
                    <div class="col align-self-left"> <div class="text-center"><img class= "align-self-center" id="completesaddleimg" src="/img/saddle_complete.png" height="175"></div> </div>
                    <div class="col"></div>
                    <div class="col"></div>
                </div>
                </br>

                <!-- More Info -->
                <div class = "row d-flex justify-content-center">
                    <h3>Cycling is associated with a host of chronic health problems. These issues might <br> be exacerbated in women â€” increasing their discomfort, decreasing their ridership, <br> and ultimately hurting your bottom line.</h3>
                    <h3>But what is it that is negatively affecting female cyclists?</h3>
                </div>


            </div>

            <!-- CIRCLE TIMELINE and PIE CHART -->
            <div class="section s2">

                <!-- CIRCLE TIMELINE -->
                <div class ="slide" id="circle-slide">
                    <div class="container-fluid">
                        <div class="row" id="circle-intro">
                            <h2>In the US, only 2.2% of trips are taken by bike. Furthermore, only .6% are taken by women. </br> Reasons for large existing gender disparities in biking are not fully understood.</h2>
                        </div>
                        <div class="row" id="circle-title">
                            <h3>Bike Trips by Gender in the US (hover over the circles to see statistics for each year)</h3>
                        </div>
                        <div class="row" id="male-circle-timeline" style="height:150px; width: 1500px">
                            <div class="col-12" id="male-timeline-div"></div>
                        </div>
                        <div class="row" id="female-circle-timeline" style="height: 150px; width: 1300px">
                            <div class="col-12" id="female-timeline-div"></div>
                        </div>
                    </div>
                </div>

                <!-- PIE CHART -->
                <div class="slide" id ="pie-slide">
                    <div class="container-fluid">
                        <!-- pie chart intro -->
                        <div class = "row" id="pie-charts-intro">
                            <h2>In looking at national data on daily commutes, only 27% of trips are made by women.</h2>
                        </div>
                        <!-- pie chart description -->
                        <div class="row d-flex" id="pie-chart">
                            <div class ="col-md-6 justify-content-center" id="pie-chart-text">
                                <p style = "text-align: center">Furthermore, women's health and comfort when it comes to bicycling are understudied. For example, saddle sores are an issue often reported by cyclists. A review of literature conducted in 2022 showed that only 2/15 of the most prevalent studies on saddle sores focused on women.</p>
                            </div>
<!--                            TODO: figure out how not to hard code this-->
                            <!-- pie chart -->
                            <div class ="col-md-6 text-center" id="pie-chart-div" style="height:500px">
                            </div>

                        </div>
                    </div>
                </div>

            </div>

            <!-- SCATTERPLOT -->
            <div class="section s3">
                <div class="container-fluid">
                    <div class="row" id="scatter-intro-1">
                        <h2>One theory is that the comfort of the bike, and especially the saddle, influence ridership</h2>
                    </div>
                    <div class="row" id="scatter-intro-2">
                        <h3>While existing research has shown that women feel less safe while biking and are generally less willing to bike in areas without cycling infrastructure, there has been very little research done to explore whether design of the bike itself influences female ridership.</h3>
                    </div>
                    <div class="row" id="scatter-div">
                        <!-- scatterplot: description and dropdowns -->
                        <div class="col">
                            <div class="row">
                                <p style = "text-align: center">Here, we explore existing factors that influence health of cyclists to search for potential correlations between health, bike seat design, and ridership disparities. This exploration is based on the hunch that saddle design does in fact influence ridership.
                                <br><br>
                                A variety of factors related to cycling (cycling intensity, saddle type, % time standing, etc.) affect a variety of health outcomes (saddle sores, genital numbness, sexual pleasure). Further, these relationships vary as a matter of sex, with worse outcomes in women.</p>
                            </div>

                            <div class ="row" id="scatter-dropdowns">
                                <!-- Predictor dropdown and dropdown title-->
                                <div class="row">
                                    <!-- dropdown -->
                                    <div class="col"> Predictor   &emsp;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <select id='categorySelectorScatterX' class="custom-select align-self-center" style="width: 52%" onchange="categoryChangeScatter()">
                                            <option value="RidingHistory" selected>Length of Time Biking</option>
                                            <option value="RidingFrequency">Biking Frequency</option>
                                            <option value="LongestDist">Longest Distance Traveled</option>
                                            <option value="AverageDist">Average Distance Traveled</option>
                                            <option value="Speed">Average Speed</option>
                                            <option value="Standing">% Time Standing During a Ride</option>
                                            <option value="PaddedShorts">How Often Padded Shorts Are Worn</option>
                                            <option value="SaddleType">Type of Saddle</option>
                                            <option value="SaddleAngle">Angle of Saddle</option>
                                            <option value="BikeType">Type of Bike</option>
                                            <option value="HandleBars">Height of Handlebars (Compared to Saddle)</option>
                                            <option value="Surface">Typical Surface for Biking</option>
                                        </select>
                                    </div>
                                </div>
                                </div>
                            </br>

                            <!-- Health outcome dropdown and dropdown title-->
                            <div class="row">
                                <!-- dropdown -->
                                <div class="col"> Health Outcome &nbsp;&nbsp;
                                    <select id='categorySelectorScatterY' class="custom-select align-self-center" style="width: 50%" onchange="categoryChangeScatter()">
                                        <option value="LUTS" selected>Urinary Wellness</option>
                                        <option value="NumbScore">Degree of Genital Numbness</option>
                                        <!--<option value="NumbTime">Length of Feeling of Numbness</option>-->
                                        <option value="UTI">History of UTI</option>
                                        <option value="UTINum">Number of Prior UTIs</option>
                                        <option value="Nodules">History of Genital + Perineal Nodules</option>
                                        <option value="SaddleSores">History of Saddle Sores</option>
                                        <option value="IPSS">Prostate Symptoms</option>
                                        <!-- DOESNT POPULATE RIGHT <option value="UrinaryFilling">Urinary Filling Dysfunction</option> -->
                                        <option value="UrinaryVoiding">Urinary Voiding Dysfunction</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row"> <p>(Color intensity represents number of cyclists that experience symptoms at that level) (More Intense Color = More Affected Individuals)</p>
                            </div>
                            </br>
                        </div>

                        <!-- scatterplot: Parent container -->
                        <div class= "col" id="scatter-area" style="height:650px; width: 650px"></div>
                    </div>
                </div>
            </div>

            <!-- SYMBOL PLOTS-->
            <div class="section s4">
                <div class="container-fluid">
                    <!-- symbol plot intro-->
                    <div class="row">
                        <h2>In particular, saddle type interacts with the body of the rider, in a way that differs between males and females. We examine how pressure differs by saddle type (stratified by gender) and how that related to reported health outcomes.</h2>
                    </div>
                    <!-- symbol plot dropdown-->
                    <div class="row">
                        <!-- <div class="col"> <div class="text-right">Health Outcome</div></div> -->
                        <div class="col-4"> Health Outcomes <select id='categorySelectorSymbolY' class="custom-select align-self-center" style="width: 80%" onchange="categoryChangeSymbol()">
                            <option value="LUTS" selected>Urinary Wellness</option>
                            <option value="NumbScore">Degree of Genital Numbness</option>
                            <option value="UTI">History of UTI</option>
                            <option value="UTINum">Number of Prior UTIs</option>
                            <option value="Nodules">History of Genital + Perineal Nodules</option>
                            <option value="SaddleSores">History of Saddle Sores</option>
                            <option value="IPSS">Prostate Symptoms</option>
                            <option value="UrinaryFilling">Urinary Filling Dysfunction</option>
                            <option value="UrinaryVoiding">Urinary Voiding Dysfunction</option>
                        </select>
                        </div>
                        <div class="col-8"><p>As you click through the different Health Outcomes, you will observe that although the rate of these issues changes as a function of saddle type, a higher rate of many of these issues in female cyclists. An interesting exception to this is the Full Cutout Saddle, reinforcing the fact that the saddle may be one of the most effective ways to improve health outcomes in female cyclists.</p></div>
                    </div>
                    </br>
                    <!-- symbol plot visualizations-->
                    <div class="row">
                        <div class="col" id="symbol-area1" style="height:300px; width: 300px"> </div>
                        <div class="col" id="symbol-area2" style="height:300px; width: 300px"> </div>
                        <div class="col" id="symbol-area3" style="height:300px; width: 300px"> </div>
                    </div>
                </div>
            </div>

            <!-- BIKE SEAT MAP -->
            <div class="section s5">
                <div class="container-fluid">
                    <div class="row">
                        <h3>Scientific research shows that women have worse health outcomes following cycling, which in part is an effect of pressure distribution resulting from saddle design. Moving forward, it is critical to take into account pressure distribution in saddle design. </h3>
                    </div>
                    <div class="row" id="bike-seat" style="height:1000px; width: 1320px">
                        <div class="col" id="bike-seat-div">
                            <div class="row" id="bike-seat-dropdowns">
                                <div class="form-outline">
                                    <input type="number" value="0" id="age" class="form-control" onchange="updateBikeSeat()"/>
                                    <label class="form-label" for="age">Age (years)</label>
                                    <input type="number" value="0" id="height" class="form-control" onchange="updateBikeSeat()"/>
                                    <label class="form-label" for="height">Height (m)</label>
                                    <input type="number" value="0" id="weight" class="form-control" onchange="updateBikeSeat()"/>
                                    <label class="form-label" for="weight">Weight (kg)</label>
                                </div>
                            </div>
                            <div class=dropdown">
                                <select id="gender" class="user-control form-control form-group" onchange="updateBikeSeat()">
                                    <option value="chooseGender">Choose Gender</option>
                                    <option value="female">Female</option>
                                    <option value="male">Male</option>
                                </select>
                            </div>
                            <div class="text" id="metric-text">
                                <p></p>
                            </div>
<!--                            //TODO - remove hardcoding of seat row height, test putting in column instead-->
                            <!--pressure map visualizations-->
                            <div class = "row" id="bike-seat-maps">
                                <!-- Standard Saddle -->
                                <div class="col" id="bike-seat1" style="height:300px; width: 300px">
                                    <div class="row align-content-center">
                                        <h4>Standard Saddle</h4>
                                    </div>
                                    <div class="row" id="bike-map1" style="height:300px"></div>
                                </div>
                                <!-- Partial Cutout Saddle -->
                                <div class="col" id="bike-seat2" style="height:300px; width: 300px">
                                    <!--saddle title -->
                                    <div class="row align-content-center">
                                        <h4>Partial Cutout Saddle</h4>
                                    </div>
                                    <div class="row" id="bike-map2" style="height:300px"></div>
                                </div>
                                <!-- Full Cutout Saddle -->
                                <div class="col" id="bike-seat3" style="height:300px; width: 300px">
                                    <!--saddle title -->
                                    <div class="row align-content-center">
                                        <h4>Complete Cutout Saddle</h4>
                                    </div>
                                    <div class="row" id="bike-map3" style="height:300px"></div>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
                </div>

        </div>


        <!-- embedding JS libraries -->
        <!-- BOOTSTRAP -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>

        <!-- FULLPAGE -->
<!--        <script type="module" src="js/fullpage/fullpage.js"></script>-->
<!--        <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.15/fullpage.js"></script>-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.15/fullpage.min.js"></script>


        <script>
            new fullpage("#fullpage", {
                licenseKey: 'gplv3-license',
                autoScrolling: true,
                scrollOverflow: false,
                scrollbars: false,
                // navigation: true,
                // navigationTooltips: ['Intro', 'Gender Disparities', 'Saddle Research', 'Saddle Type', 'Saddle Pressure']
                verticallyCentered: true,
                horizontallyCentered: true,
            })
        </script>
        <!-- d3 -->
        <script src="https://d3js.org/d3.v7.min.js"></script>


        <!-- Our implementation -->
        <script src="js/main.js"></script>
        <script src="js/pieChart.js"></script>
        <script src="js/circleTimeline.js"></script>
        <script src="js/scatterPlot.js"></script>
        <script src="js/symbolplot.js"></script>
        <script src="js/seatVis.js"></script>
        <script src="js/variables.js"></script>
    </body>
</html>